!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.zliq=t():e.zliq=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";(function(e){function r(e,t){return!(0,j.default)(e,t)}function o(e,t){e.value=t,i(e.listeners,t)}function i(e,t){e.forEach(function(e){e(t)})}function u(e,t){var n=void 0===e.value?void 0:t(e.value);return S(n)}function c(e,t){var n=u(e,t);return e.listeners.push(function(e){n(t(e))}),n}function l(e,t){function n(e,t,n){var r=e(t);return r.listeners.push(n),r}var r,o=function(e){i(e)},i=u(e,function(e){return r=n(t,e,o),r.value});return e.listeners.push(function(e){r&&g(r.listeners,o),r=n(t,e,o),i(r.value)}),i}function a(e,t){var n=u(e,function(e){return t(e)?e:void 0});return e.listeners.push(function(e){t(e)&&n(e)}),n}function f(e,t){function n(e,t){return t.reduce(function(e,t){return e[t]},e)}var r=t.split("."),o=u(e,function(e){return n(e,r)});return e.listeners.push(function(e){o(n(e,r))}),o}function s(e,t){return Array.isArray(t)?h(t.map(function(t){return f(e,t)})):f(e,t)}function d(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e,t){return r(e,t)},n=u(e,function(e){return e});return e.listeners.push(function(e){t(n.value,e)&&n(e)}),n}function p(t,n){e(function(){return null==t.value?void t(n):void t(Object.assign({},t.value,n))})}function m(e,t){var n=S(t.value?void 0:e.value),r=function(t){n(e.value),t.listeners.push(n)};return t.map(function(t){t?g(e.listeners,n):r(e)}),n}function v(e,t,n){function r(){o=t(o,e.value),i(o)}var o=n,i=S();return void 0!==e.value&&r(e.value),e.listeners.push(r),i}function y(e,t){function n(e){r&&window.clearTimeout(r),r=setTimeout(function(){o(e),r=null},t)}var r,o=S();return void 0!==e.value&&n(e.value),e.listeners.push(n),o}function h(e){var t=e.map(function(e){return e&&e.IS_STREAM?e.value:e}),n=S(-1===t.indexOf(void 0)?t:void 0);return e.forEach(function(e,r){e.IS_STREAM&&e.listeners.push(function(e){t[r]=e,n(-1===t.indexOf(void 0)?t:void 0)})}),n}function b(e){return null!=e&&!!e.IS_STREAM}function g(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}Object.defineProperty(t,"__esModule",{value:!0}),t.stream=void 0,t.merge$=h,t.isStream=b;var T=n(5),j=function(e){return e&&e.__esModule?e:{default:e}}(T),S=t.stream=function(e){var t=function(e){return void 0===e?t.value:(o(t,e),t)};return t.IS_STREAM=!0,t.value=e,t.listeners=[],t.map=function(e){return c(t,e)},t.is=function(e){return c(t,function(t){return t===e})},t.flatMap=function(e){return l(t,e)},t.filter=function(e){return a(t,e)},t.deepSelect=function(e){return f(t,e)},t.distinct=function(e){return d(t,e)},t.$=function(e){return s(t,e)},t.until=function(e){return m(t,e)},t.patch=function(e){return p(t,e)},t.reduce=function(e,n){return v(t,e,n)},t.debounce=function(e){return y(t,e)},t}}).call(t,n(10).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(3);Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(13);Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var u=n(12);Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(4);Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},function(e,t,n){"use strict";function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10;return e.debounce(n).reduce(function(e,n){var r=e.element,i=e.version,u=e.children,c=e.keyContainer,l=n.tag,a=n.props,f=n.children,s=n.version;null===r&&(r=v(l,f),t&&t.appendChild(r));var d=o(r,l,a,f,s,u,i,c);return t&&0===s&&h(r,a,"mounted"),{element:d,version:s,children:y(f),keyContainer:c}},{element:null,version:-1,children:[],keyContainer:{}})}function o(e,t,n,r,o,c,l,a){return n&&n.id?i(e,t,n,r,o,a):u(e,t,n,r,o,c,l,a)}function i(e,t,n,r,o,i){var u=n.id,c=!1,l=!1;void 0===i[u]&&(i[u]={element:document.createElement(t),vdom:{tag:t,props:{},children:[]}},c=!0);var a=i[u];return o!==a.version&&(f(a.element,n),p(a.element,r,a.vdom.children,i),a.version=o,a.vdom.props=n,a.vdom.children=r,l=!0),c?h(a.element,n,"created"):l&&h(a.element,n,"updated"),e!==a.element&&(e.parentElement.replaceChild(a.element,e),h(a.element,n,"mounted")),a.element}function u(e,t,n,r,o,i,u,c){if(g(e)&&t===O)return T(e,r[0]),e;if(!1===j(e,n,t)){var l=v(t,r);e.parentElement.replaceChild(l,e),e=l,i=[]}return f(e,n),t!==O&&p(e,r,i,c),0===o&&h(e,n,"created"),0<o&&h(e,n,"updated"),e}function c(e,t,n){for(var r,o=e.childNodes.length;o>t.length;o--){if(r=e.childNodes[o-1],e.removeChild(r),n.length<o){console.log("ZLIQ: Something other then ZLIQ has manipulated the children of the element",e,". This can lead to sideffects. Please check your code.");continue}h(r,n[o-1].props,"removed")}}function l(e,t,n,r){for(var i=e.childNodes,u=0;u<i.length&&u<t.length;u++){var c=i[u],l=n[u],a=l.version,f=l.children,s=t[u];o(c,s.tag,s.props,s.children,s.version,f,a,r)}}function a(e,t,n){for(var r=e.childNodes.length;r<t.length;r++){var i=t[r],u=i.tag,c=i.props,l=i.children,a=i.version,f=v(u,l);e.appendChild(f),o(f,u,c,l,a,[],-1,n),c&&c.cycle&&c.cycle.mounted&&console.error("The 'mounted' lifecycle event is only called on elements with id. As elements are updated in place, it is hard to define when a normal element is mounted.")}}function f(e,t){void 0!==t&&(Object.getOwnPropertyNames(t).map(function(n){s(e,n,t[n])}),d(e,t))}function s(e,t,n){"class"===t||"className"===t?e.className=n||"":"style"===t&&"string"!=typeof n?Object.assign(e.style,n):e[t]=null===n?void 0:n}function d(e,t){if(void 0!==e.props)for(var n in e.props)void 0===t[n]&&e.removeAttribute(n)}function p(e,t,n,r){if(0!==t.length||0!==n.length){var o=(e.childNodes,m(t));l(e,o,m(n),r),c(e,o,n),a(e,o,r)}}function m(e){return e.map(function(e){return(0,_.isStream)(e)||void 0!==e.tag?e:{tag:O,children:[e],version:0}})}function v(e,t){return e===O?document.createTextNode(t[0]):document.createElement(e)}function y(e){if(void 0===e)return[];var t=JSON.parse(JSON.stringify(e));return t.forEach(function(t,n){var r=e[n];r.props&&r.props.cycle&&(t.cycle=r.props.cycle),"object"===S(e[n])&&(t.children=y(r.children))}),t}function h(e,t,n){t&&t.cycle&&t.cycle[n]&&t.cycle[n](e)}function b(e,t){return e.nodeName.toLowerCase()!==t}function g(e){return e instanceof window.Text}function T(e,t){e.nodeValue!==t&&(e.nodeValue=t)}function j(e,t,n){return!g(e)&&""===e.id&&!b(e,n)}var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.render=r,t.diff=o,t.createNode=v;var _=n(0),O="#text"},function(e,t,n){"use strict";function r(e,t,n){var r=document.createElement("div");return o((0,u.render)(e,r,0),t,n)}function o(e,t,n){return e.reduce(function(e,r){if(void 0===t[e])throw new Error("Unexpected Update!");return i(t,e,r,n),e+1},0)}function i(e,t,n,r){setTimeout(function(){try{e[t](n)}catch(e){r.fail(e)}e.length===t+1&&r&&r()})}Object.defineProperty(t,"__esModule",{value:!0}),t.testRender=r,t.test$=o;var u=n(2)},function(e,t,n){"use strict";function r(e){return null===e||void 0===e}function o(e){return e&&"object"===(void 0===e?"undefined":u(e))&&"number"==typeof e.length&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(0<e.length&&"number"!=typeof e[0])}function i(e,t,n){var i,s;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return!!a(t)&&(e=c.call(e),t=c.call(t),f(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}try{var d=l(e),p=l(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),i=d.length-1;0<=i;i--)if(d[i]!=p[i])return!1;for(i=d.length-1;0<=i;i--)if(s=d[i],!f(e[s],t[s],n))return!1;return(void 0===e?"undefined":u(e))===(void 0===t?"undefined":u(t))}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Array.prototype.slice,l=n(7),a=n(6),f=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e&&t&&("object"==(void 0===e?"undefined":u(e))||"object"==(void 0===t?"undefined":u(t)))?i(e,t,n):n.strict?e===t:e==t)}},function(e,t,n){"use strict";function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==(void 0===e?"undefined":i(e))&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=u?r:o,t.supported=r,t.unsupported=o},function(e,t,n){"use strict";function r(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:r,t.shim=r},function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(s===setTimeout)return setTimeout(e,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function u(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function c(){y&&m&&(y=!1,m.length?v=m.concat(v):h=-1,v.length&&l())}function l(){if(!y){var e=i(c);y=!0;for(var t=v.length;t;){for(m=v,v=[];++h<t;)m&&m[h].run();h=-1,t=v.length}m=null,y=!1,u(e)}}function a(e,t){this.fun=e,this.array=t}function f(){}var s,d,p=e.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(e){s=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var m,v=[],y=!1,h=-1;p.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new a(e,t)),1!==v.length||y||i(l)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.prependListener=f,p.prependOnceListener=f,p.listeners=function(){return[]},p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";(function(e,t){!function(e,n){function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return a[l]=r,c(l),l++}function o(e){delete a[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function u(e){if(f)setTimeout(u,0,e);else{var t=a[e];if(t){f=!0;try{i(t)}finally{o(e),f=!1}}}}if(!e.setImmediate){var c,l=1,a={},f=!1,s=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){c=function(e){t.nextTick(function(){u(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),c=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},c=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;c=function(t){var n=s.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){c=function(e){setTimeout(u,0,e)}}(),d.setImmediate=r,d.clearImmediate=o}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,n(11),n(8))},function(e,t,n){"use strict";function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(9),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return void 0===e||"boolean"==typeof e?(0,i.stream)(e?t||null:n||null):e.map(function(e){return e?t||null:n||null})}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return null===e||void 0===e?(0,i.stream)(""):e.IS_STREAM?e:(0,i.stream)(e)});return(0,i.merge$)(r).map(function(e){return e.join(" ")})}Object.defineProperty(t,"__esModule",{value:!0}),t.promise$=void 0,t.if$=r,t.join$=o;var i=n(1);t.promise$=function(e){var t=(0,i.stream)({loading:!0,error:null,data:null});return e.then(function(e){t.patch({loading:!1,data:e})},function(e){t.patch({loading:!1,error:e})}),t}},function(e,t,n){"use strict";function r(e){Array.isArray(e)||(e=[e]),e=o(e).filter(function(e){return null!==e});var t=e.map(function(e){return(0,a.isStream)(e)?e.flatMap(r):e});return(0,a.merge$)(t)}function o(e,t){var n,r=Object.prototype.toString,o=[],i=t&&e||e.slice();if(!e.length)return o;n=i.pop();do{"[object Array]"===r.call(n)?i.push.apply(i,n):o.push(n)}while(i.length&&void 0!==(n=i.pop()));return o.reverse(),o}function i(e){if(null===e)return(0,a.stream)({});if((0,a.isStream)(e))return e;var t=u(e),n=t.map(function(e){var t=e.parent,n=e.key;return e.stream.distinct().map(function(e){return t[n]=e,e})});return(0,a.merge$)(n).map(function(){return e})}function u(e){return o(Object.keys(e).map(function(t){return null===e[t]?[]:"object"===c(e[t])?u(e[t]):(0,a.isStream)(e[t])?[{parent:e,key:t,stream:e[t]}]:[]}))}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!((r=(u=c.next()).done)||(n.push(u.value),t&&n.length===t));r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.h=void 0,t.flatten=o;var a=n(0);n(3),t.h=function(e,t){for(var n=arguments.length,u=Array(2<n?n-2:0),c=2;c<n;c++)u[c-2]=arguments[c];var f=-1,s=r(o(u));return"function"==typeof e?e(t||{},s):(0,a.merge$)([i(t),s.map(o)]).map(function(t){var n=l(t,2),r=n[0],o=n[1];return{tag:e,props:r,children:o,version:++f}})}}])});