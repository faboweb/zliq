!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.zliq=t():e.zliq=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(3);Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var u=n(10);Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var i=n(9);Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(8);Object.keys(a).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return!(0,j.default)(e,t)}function u(e,t){return void 0===t?e.value:(e.value=t,void i(e.listeners,t))}function i(e,t){e.forEach(function(e){e(t)})}function a(e,t){var n=void 0===e.value?void 0:t(e.value);return O(n)}function c(e,t){var n=a(e,function(e){return t(e)});return e.listeners.push(function(e){n(t(e))}),n}function f(e,t){var n=a(e,function(e){return t(e)()});return e.listeners.push(function(e){t(e).map(function(e){n(e)})}),n}function l(e,t){var n=a(e,function(e){return t(e)?e:void 0});return e.listeners.push(function(e){t(e)&&n(e)}),n}function s(e,t){function n(e,t){return t.reduce(function(e,t){return e[t]},e)}var r=t.split("."),o=a(e,function(e){return n(e,r)});return e.listeners.push(function(e){o(n(e,r))}),o}function d(e,t){return Array.isArray(t)?h.apply(void 0,r(t.map(function(t){return s(e,t)}))):s(e,t)}function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e,t){return o(e,t)},n=a(e,function(e){return e});return e.listeners.push(function(e){t(n.value,e)&&n(e)}),n}function v(e,t){return null==e.value?void e(t):e(Object.assign({},e.value,t))}function y(e,t){var n=O(t.value?void 0:e.value),r=function(t){n(e.value),t.listeners.push(n)},o=function(e){var t=e.listeners.indexOf(n);-1!==t&&e.listeners.splice(t,1)};return t.distinct().map(function(t){t?o(e):r(e)}),n}function m(e,t,n){var r=void 0===e.value?void 0:t(n,e.value),o=O(r);return e.listeners.push(function(){r=t(r,e.value),o(r)}),o}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.value}),o=O(-1===r.indexOf(void 0)?r:void 0);return t.forEach(function(e,t){e.listeners.push(function(e){r[t]=e,o(-1===r.indexOf(void 0)?r:void 0)})}),o}function b(e){return null!=e&&!!e.IS_STREAM}Object.defineProperty(t,"__esModule",{value:!0}),t.stream=void 0,t.merge$=h,t.isStream=b;var g=n(5),j=function(e){return e&&e.__esModule?e:{default:e}}(g),O=t.stream=function(e){function t(e){return 0===arguments.length?t.value:(u(t,e),t)}return t.IS_STREAM=!0,t.value=e,t.listeners=[],t.map=function(e){return c(t,e)},t.flatMap=function(e){return f(t,e)},t.filter=function(e){return l(t,e)},t.deepSelect=function(e){return s(t,e)},t.distinct=function(e){return p(t,e)},t.$=function(e){return d(t,e)},t.until=function(e){return y(t,e)},t.patch=function(e){return v(t,e)},t.reduce=function(e,n){return m(t,e,n)},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(4);Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},function(e,t,n){"use strict";function r(e,t){e.vdom$.reduce(function(e,n){var r=e.element,u=e.version,i=e.children,a=n.tag,c=n.props,l=n.children,s=n.version;return null===r&&(r=f(a,l),t.appendChild(r)),o(r,a,c,l,s,i,u),{element:r,version:s,children:l}},{element:null,version:-1,children:[]})}function o(e,t,n,r,o,i,a){if(void 0===o&&o===a)return e;var l=e;return e instanceof window.Text&&t===s&&e.nodeValue!==r[0]?(e.nodeValue=r[0],l):(e.nodeName.toLowerCase()!==t&&(l=f(t,r),e.parentElement.replaceChild(l,e),i=[],a=-1),u(l,n),t!==s&&r&&0<r.length&&c(l,r,i),l)}function u(e,t){void 0!==t&&(Object.getOwnPropertyNames(t).map(function(n){i(e,n,t[n])}),a(e,t))}function i(e,t,n){"class"===t||"classname"===t.toLowerCase()?e.className=n:"style"===t&&"string"!=typeof n?Object.assign(e.style,n):e[t]=null===n?void 0:n}function a(e,t){if(void 0!==e.props)for(var n in e.props)void 0===t[n]&&e.removeAttribute(n)}function c(e,t,n){for(var r=e.childNodes,u=t.map(function(e){return(0,l.isStream)(e)||void 0!==e.tag?e:{tag:s,children:[e],version:1}}),i=n.map(function(e){return(0,l.isStream)(e)||void 0!==e.tag?e:{tag:s,children:[e],version:1}}),a=0;a<i.length&&a<u.length;a++){var c=r[a],d=i[a],p=d.version,v=d.children,y=u[a],m=y.tag,h=y.props,b=y.children,g=y.version;o(c,m,h,b,g,v,p)}for(var a=u.length;a<i.length;a++)e.removeChild(e.lastChild);for(var a=i.length;a<u.length;a++){var j=u[a],m=j.tag,h=j.props,b=j.children,g=j.version,c=f(m,b);e.appendChild(c),o(c,m,h,b,g,[],-1)}}function f(e,t){return e===s?document.createTextNode(t[0]):document.createElement(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.render=r,t.diff=o,t.createNode=f;var l=n(1),s="#text"},function(e,t,n){"use strict";function r(e,t,n){o({vdom$:e.vdom$}).reduce(function(e,r){if(void 0===t[e])throw new Error("Unexpected Update!");return t[e](r),t.length===e+1&&n(),e+1},0)}function o(e){return e.vdom$.reduce(function(e,t){var n=e.element,r=e.version,o=e.children,i=t.tag,a=t.props,c=t.children,f=t.version;return void 0===n&&(n=(0,u.createNode)(i,c)),(0,u.diff)(n,i,a,c,f,o,r),{element:n,version:f,children:c}},{element:void 0,version:-1,children:[]}).$("element")}Object.defineProperty(t,"__esModule",{value:!0}),t.test=r;var u=n(2)},function(e,t,n){"use strict";function r(e){return null===e||void 0===e}function o(e){return e&&"object"===(void 0===e?"undefined":i(e))&&"number"==typeof e.length&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(0<e.length&&"number"!=typeof e[0])}function u(e,t,n){var u,s;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(f(e))return!!f(t)&&(e=a.call(e),t=a.call(t),l(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=c(e),p=c(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;0<=u;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;0<=u;u--)if(s=d[u],!l(e[s],t[s],n))return!1;return(void 0===e?"undefined":i(e))===(void 0===t?"undefined":i(t))}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Array.prototype.slice,c=n(7),f=n(6),l=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e&&t&&("object"==(void 0===e?"undefined":i(e))||"object"==(void 0===t?"undefined":i(t)))?u(e,t,n):n.strict?e===t:e==t)}},function(e,t,n){"use strict";function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==(void 0===e?"undefined":u(e))&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?r:o,t.supported=r,t.unsupported=o},function(e,t,n){"use strict";function r(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:r,t.shim=r},function(e,t,n){"use strict";function r(e){if(window.onpopstate=function(t){if(t.state){var n=t.state,r=n.route,o=n.query;c(e,r,o)}},document.addEventListener("click",function(t){var n=t.target||t.srcElement;if("A"===n.tagName){var r=n.getAttribute("href"),o=null!=r&&r.startsWith("/"),u=null!=r&&r.startsWith("#");if(o||u){var i=a(r),c=i.anchor,l=i.route,s=i.query;void 0===l&&(l=e.value.route),f(e,c,l,s),t.preventDefault()}}}),"/"!==location.pathname||""!==location.search){var t=(location.pathname,location.search,location.hash,a(location.pathname+location.search+location.hash)),n=t.route,r=t.query;c(e,n,r)}}function o(e,t){var n=/(#\/\w*)?(\?(\w+=\w*)(&\w+=\w*)*)+(#\w+)?/g,r=RegExp(n).exec(e),o=RegExp(n).exec(t),u=r&&null!=r[3]?r[3].split("&"):[];u=o&&null!=o[3]?u.concat(o[3].split("&")):u;for(var i,a={},c=0;c<u.length;c++)if(i=u[c].split("="),void 0===a[i[0]])a[i[0]]=decodeURIComponent(i[1]);else if("string"==typeof a[i[0]]){var f=[a[i[0]],decodeURIComponent(i[1])];a[i[0]]=f}else a[i[0]].push(decodeURIComponent(i[1]));return a}function u(e,t){var n=e.router$,r=e.route;if(null==n)return console.log("The Router component needs the routerState$ as attribute."),null;if(null==r)return console.log("The Router component needs the route as attribute."),null;n.$("routes").map(function(e){return-1===e.indexOf(r)&&n.patch({routes:e.concat(r)})});var o=n.map(function(e){var t=e.route;return-1===e.routes.indexOf(t)?"/":t}),u=(0,s.is$)(o,r).distinct();return(0,s.merge$)(u,t).map(function(e){var t=l(e,2),n=t[0],r=t[1];return n?r:[]})}function i(){var e=(0,s.stream)({route:"",params:{},routes:["/"]});return r(e),e}function a(e){var t=/((\/\w*)*)?(\?((\w+=\w*)(&(\w+=\w*)+)*))?(#(\w+))?/,n=t.exec(e);return{anchor:n[9],route:n[1],query:n[4]}}function c(e,t){var n=location.hash.substr(1);e.patch({route:t||"",params:o(n,location.search)})}function f(e,t,n,r){history.pushState({anchor:t,route:n,query:r},"","/"+(n?n.substr(1):"")+(r?"?"+r:"")),t&&(location.hash="#"+t),c(e,n,r)}var l=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!((r=(i=a.next()).done)||(n.push(i.value),t&&n.length===t));r=!0);}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Router=u,t.initRouter=i;var s=n(0)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return e.map(function(e){return e?t||null:n||null})}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.map(function(e){return null===e||void 0===e?(0,a.stream)(""):e.IS_STREAM?e:(0,a.stream)(e)});return a.merge$.apply(void 0,r(o)).map(function(e){return e.join(" ")})}function i(e,t){return e.map(function(e){return e===t})}Object.defineProperty(t,"__esModule",{value:!0}),t.promise$=void 0,t.if$=o,t.join$=u,t.is$=i;var a=n(0);t.promise$=function(e){var t=(0,a.stream)({loading:!0,error:null,data:null});return e.then(function(e){t.patch({loading:!1,data:e})},function(e){t.patch({loading:!1,error:e})}),t}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){Array.isArray(e)||(e=[e]),e=u(e);var t=e.map(function(e){return(0,s.isStream)(e)?e.flatMap(o):e.vdom$||e});return a.apply(void 0,r(t))}function u(e){for(;e.some(function(e){return Array.isArray(e)});){var t;e=(t=[]).concat.apply(t,r(e))}return e}function i(e,t){if(null===e)return(0,s.stream)({});if((0,s.isStream)(e))return e.until(t);var n=Object.keys(e).map(function(n){var r=e[n];return(0,s.isStream)(r)?r.until(t).map(function(e){return{key:n,value:e}}):null!==r&&"object"===(void 0===r?"undefined":f(r))?i(r,t).map(function(e){return{key:n,value:e}}):(0,s.stream)({key:n,value:r})});return s.merge$.apply(void 0,r(n)).map(function(e){return e.reduce(function(e,t){var n=t.key,r=t.value;return e[n]=r,e},{})})}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.IS_STREAM?e.value:e}),o=t.reduce(function(e,t,n){return t.IS_STREAM&&e.push({stream:t,index:n}),e},[]),u=(0,s.stream)(-1===r.indexOf(void 0)?r:void 0);return o.forEach(function(e){var t=e.stream,n=e.index;t.listeners.push(function(e){r[n]=e,u(-1===r.indexOf(void 0)?r:void 0)})}),u}function c(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!((r=(i=a.next()).done)||(n.push(i.value),t&&n.length===t));r=!0);}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.h=void 0,t.flatten=u,t.mixedMerge$=a;var s=n(1);n(3),t.h=function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var f,d=(0,s.stream)(!1),p=o(u(r));return"function"==typeof e?f=e(t,p,d):(null!==t&&Object.keys(t).map(function(e){(0,s.isStream)(t[e])&&(t[e]=t[e].until(d))}),f={vdom$:(0,s.merge$)(i(t,d).distinct(),p.map(u)).map(function(t){var n=l(t,2),r=n[0],o=n[1];return{tag:e,props:r,children:o,version:c()}})}),f}}])});